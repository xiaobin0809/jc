<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>粉丝团排行榜 · 领奖台风格</title>
<style>
body {
  margin:0;
  font-family:"Helvetica Neue",Arial,sans-serif;
  background:#0a0a0a;
  color:#fff;
}
.wrap {max-width:1400px; margin:0 auto; padding:20px;}

/* ======================
   主播信息头部（合并统计）
   ====================== */
.anchor-info {
  display:flex;
  align-items:center;
  gap:20px;
  padding:18px 22px;
  background:rgba(255,255,255,0.06);
  border-radius:18px;
  margin-bottom:30px;
}
.anchor-avatar {
  width:80px;
  height:80px;
  border-radius:50%;
  overflow:hidden;
  border:3px solid #fff;
}
.anchor-avatar img {
  width:100%; height:100%; object-fit:cover;
}
.anchor-detail {
  flex:1;
}
.anchor-name {
  font-size:24px;
  font-weight:bold;
  margin-bottom:8px;
}
.anchor-stats {
  font-size:16px;
  opacity:0.9;
  display:flex;
  gap:16px;
  flex-wrap:wrap;
}
.anchor-stats span {
  background: rgba(255,255,255,0.05);
  padding:6px 12px;
  border-radius:12px;
}

/* ======================
   领奖台前三名
   ====================== */
.top3 {
  display:flex;
  justify-content:center;
  align-items:flex-end;
  gap:40px;
  margin-bottom:40px;
}
.top3 .card {
  background: rgba(255,255,255,0.05);
  padding:20px;
  border-radius:16px;
  text-align:center;
  position:relative;
  transition: transform 0.2s;
}
.top3 .card:hover {transform: translateY(-5px);}
.top3 .card .avatar {
  border-radius:50%;
  overflow:hidden;
  border:3px solid #fff;
  margin:0 auto 10px;
}
.top3 .card .name {font-weight:bold; font-size:18px; margin-bottom:6px;}
.top3 .card .level {
  display:inline-block;
  padding:2px 8px;
  border-radius:10px;
  font-size:14px;
  font-weight:bold;
  margin-left:6px;
}
.level-20 {background: linear-gradient(90deg,#ff3c3c,#ff9a3c); color:#fff;}
.level-16 {background: linear-gradient(90deg,#ffb93c,#ffd93c); color:#000;}
.level-12 {background: linear-gradient(90deg,#3cb2ff,#3cd9ff); color:#000;}
.level-below {background: linear-gradient(90deg,#999999,#bbbbbb); color:#000;}

.top3 .card:nth-child(1) {height:180px; order:2;}
.top3 .card:nth-child(2) {height:140px; order:1;}
.top3 .card:nth-child(3) {height:140px; order:3;}

.top3 .card .avatar {width:80px; height:80px;}
.top3 .card:nth-child(1) .avatar {width:100px;height:100px;}

/* ======================
   第4名开始列表
   ====================== */
.rank-list {width:100%; margin-top:20px;}
.rank-list .rank-item {
  display:flex;
  align-items:center;
  padding:12px 16px;
  gap:16px;
  background: rgba(255,255,255,0.02);
  border-radius:12px;
  margin-bottom:6px;
  transition: background 0.2s;
}
.rank-list .rank-item:hover {background: rgba(255,255,255,0.06);}
.rank-list .rank-num {width:32px; text-align:center; font-weight:bold;}
.rank-list .avatar {width:48px; height:48px; border-radius:50%; overflow:hidden; border:2px solid #fff;}
.rank-list .avatar img {width:100%; height:100%; object-fit:cover;}
.rank-list .info {
  flex:1;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.rank-list .info-left {
  display:flex;
  align-items:center;
  gap:8px;
}
.rank-list .info-left .name {font-weight:bold;}
.rank-list .info-left .level {
  display:inline-block;
  padding:2px 6px;
  border-radius:10px;
  font-size:12px;
  font-weight:bold;
  margin-left:4px;
}
.rank-list .info-right {font-size:14px; font-weight:bold;}
</style>
</head>
<body>
<div class="wrap">

  <!-- 主播信息（含统计） -->
  <div class="anchor-info">
    <div class="anchor-avatar">
      <img id="anchorAvatar" src="https://p3-pc.douyinpic.com/img/aweme-avatar/tos-cn-avt-0015_c668288dbe3086ea5390e4ba898f6ec1~c5_300x300.jpeg?from=2956013662" alt="">
    </div>

    <div class="anchor-detail">
      <div class="anchor-name" id="anchorName">机车妹妹</div>
      <div class="anchor-stats" id="anchorStats">
        <span id="statFollowers">粉丝 99.3万</span>
        <span id="statClubMembers">粉丝团 0</span>
        <span id="statMaxIntimacy">最高亲密 0</span>
      </div>
    </div>
  </div>

  <!-- 前三名 -->
  <div class="top3" id="top3Container"></div>

  <!-- 第4名开始列表 -->
  <div class="rank-list" id="rankList"></div>
</div>

<script>
function formatNumber(n){
  if(!n) return '0';
  if(n>=1e8) return (n/1e8).toFixed(1)+'亿';
  if(n>=1e4) return (n/1e4).toFixed(1)+'万';
  return n.toString();
}

function getLevelClass(l){
  if(l>=20) return 'level-20';
  if(l>=16) return 'level-16';
  if(l>=12) return 'level-12';
  return 'level-below';
}

const top3Container = document.getElementById('top3Container');
const rankListContainer = document.getElementById('rankList');

const anchorAvatarEl = document.getElementById('anchorAvatar');
const anchorNameEl = document.getElementById('anchorName');
const statFollowersEl = document.getElementById('statFollowers');
const statClubMembersEl = document.getElementById('statClubMembers');
const statMaxIntimacyEl = document.getElementById('statMaxIntimacy');

function renderRank(data){
  if(!data || !data.length) return;
  data.sort((a,b)=>b.intimacy-a.intimacy);

  /*
  // 主播信息（取第一条）
  const anchor = data[0];
  if(anchor){
    anchorAvatarEl.src = "https://p3-pc.douyinpic.com/img/aweme-avatar/tos-cn-avt-0015_c668288dbe3086ea5390e4ba898f6ec1~c5_300x300.jpeg?from=2956013662";
    anchorNameEl.textContent = "机车妹妹" || "主播";
    statFollowersEl.textContent = `粉丝数 ${formatNumber(anchor.followerCount || 0)}`;
    statClubMembersEl.textContent = `粉丝团 ${formatNumber(anchor.fansClubMemberCount || 0)}`;
    statMaxIntimacyEl.textContent = `最高亲密 ${formatNumber(anchor.intimacy || 0)}`;
  } */

  // 前三名
  top3Container.innerHTML='';
  data.slice(0,3).forEach(m=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`
      <div class="avatar"><img src="${m.avatarThumb}" alt="${m.nickname}"></div>
      <div class="name">${m.nickname}<span class="level ${getLevelClass(m.fansClubLevel)}">${m.fansClubLevel}</span></div>
      <div class="small-muted">亲密: ${formatNumber(m.intimacy)}</div>
    `;
    top3Container.appendChild(div);
  });

  // 第4名开始列表
  rankListContainer.innerHTML='';
  data.slice(3).forEach((m,i)=>{
    const div=document.createElement('div');
    div.className='rank-item';
    div.innerHTML=`
      <div class="rank-num">${i+4}</div>
      <div class="avatar"><img src="${m.avatarThumb}" alt="${m.nickname}"></div>
      <div class="info">
        <div class="info-left">
          <span class="name">${m.nickname}</span>
          <span class="level ${getLevelClass(m.fansClubLevel)}">${m.fansClubLevel}</span>
        </div>
        <div class="info-right">亲密: ${formatNumber(m.intimacy)}</div>
      </div>
    `;
    rankListContainer.appendChild(div);
  });
}

// 读取本地 jichefensi.json
fetch('./jichefensi.json')
  .then(res => res.json())
  .then(data => renderRank(data))
  .catch(err => console.error('读取 jichefensi.json 失败', err));
</script>
</body>
</html>
